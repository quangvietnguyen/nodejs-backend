(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[9],{100:function(e,t,a){"use strict";a.r(t);var n=a(42),r=a.n(n),c=a(43),i=a(6),l=a(0),s=a.n(l),o=a(1),u=a(55),p=a(41),d=a(54),v=(a(97),a(57)),m=a(44),f=a(46),b=a(13),h=a(45),E=a(9);t.default=function(){var e=Object(o.g)(),t=Object(l.useContext)(E.a),a=Object(f.a)(),n=a.isLoading,j=a.error,O=a.sendRequest,x=a.clearError,y=Object(l.useState)(),k=Object(i.a)(y,2),T=k[0],w=k[1],C=Object(o.h)().placeId,N=Object(v.a)({title:{value:"",isValid:!1},description:{value:"",isValid:!1}},!1),P=Object(i.a)(N,3),V=P[0],g=P[1],A=P[2];Object(l.useEffect)((function(){(function(){var e=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("".concat("https://travel-diary-mern.herokuapp.com/api","/places/").concat(C));case 3:t=e.sent,A({title:{value:t.title,isValid:!0},description:{value:t.description,isValid:!0}},!0),w(t.place),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()(0)}),[O,C,A]);var I=function(){var a=Object(c.a)(r.a.mark((function a(n){return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),a.prev=1,a.next=4,O("".concat("https://travel-diary-mern.herokuapp.com/api","/places/").concat(C),"PATCH",JSON.stringify({title:V.inputs.title.value,description:V.inputs.description.value}),{"Content-Type":"application/json",Authorization:"Bearer "+t.token});case 4:e.push("/"+t.userId+"/places"),a.next=9;break;case 7:a.prev=7,a.t0=a.catch(1);case 9:case"end":return a.stop()}}),a,null,[[1,7]])})));return function(e){return a.apply(this,arguments)}}();return n?s.a.createElement("div",{className:"center"},s.a.createElement(b.a,null)):T||j?s.a.createElement(s.a.Fragment,null,s.a.createElement(h.a,{error:j,onClear:x}),!n&&T&&s.a.createElement("form",{className:"place-form",onSubmit:I},s.a.createElement(u.a,{id:"title",element:"input",type:"text",label:"Title",validators:[Object(d.c)()],errorText:"Please enter a valid title.",onInput:g,value:T.title,valid:!0}),s.a.createElement(u.a,{id:"description",element:"textarea",type:"Description",label:"Title",validators:[Object(d.b)(5)],errorText:"Please enter a valid description (min 5 characters).",onInput:g,value:T.description,valid:!0}),s.a.createElement(p.a,{type:"submit",disabled:!V.isValid},"UPDATE PLACE"))):s.a.createElement("div",{className:"center"},s.a.createElement(m.a,null,s.a.createElement("h2",null,"Could not find place!")))}},44:function(e,t,a){"use strict";var n=a(0),r=a.n(n);a(47);t.a=function(e){return r.a.createElement("div",{className:"card ".concat(e.className),style:e.style},e.children)}},47:function(e,t,a){},97:function(e,t,a){}}]);
//# sourceMappingURL=9.0b49e1ea.chunk.js.map